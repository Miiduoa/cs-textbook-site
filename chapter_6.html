<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chapter 6 — Computer Networks</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .concept-card { background: white; padding: 20px; border-left: 4px solid #0ea5e9; margin: 20px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
    .interactive-box { background: #ecfeff; border: 2px dashed #06b6d4; padding: 20px; border-radius: 8px; margin: 20px 0; }
    .calc-row { display:flex; gap:10px; align-items:center; flex-wrap: wrap; }
    .calc-row input, .calc-row select { padding:6px 8px; border:1px solid #ccc; border-radius:4px; }
    .result-box { margin-top:10px; padding:10px; background:#f8f9fa; border:1px solid #e3e6e8; border-radius:6px; font-family: monospace; }
    table { width:100%; border-collapse: collapse; margin:16px 0; }
    th, td { border:1px solid #e3e6e8; padding:8px; text-align:left; }
    th { background:#f1f5f9; }
  </style>
</head>
<body>
  <nav class="toc">
  <details class="toc-details">
    <summary class="toc-toggle">☰ 章節目錄 / Chapters</summary>
    <div class="toc-content">
<h2>CS Textbook</h2>
    <ul>
      <li><a href="index.html">Table of Contents</a></li>
      <li><a href="chapter_0.html">Preface</a></li>
      <li><a href="chapter_1.html">Chapter 1 — Introduction</a></li>
      <li><a href="chapter_2.html">Chapter 2 — Number Systems</a></li>
      <li><a href="chapter_3.html">Chapter 3 — Data Storage</a></li>
      <li><a href="chapter_4.html">Chapter 4 — Operations on Data</a></li>
      <li><a href="chapter_5.html">Chapter 5 — Computer Organization</a></li>
      <li><a href="chapter_6.html" class="active">Chapter 6 — Computer Networks</a></li>
      <li><a href="chapter_7.html">Chapter 7 — Operating Systems</a></li>
      <li><a href="chapter_8.html">Chapter 8 — Algorithms</a></li>
      <li><a href="chapter_9.html">Chapter 9 — Efficiency of Algorithms</a></li>
      <li><a href="chapter_10.html">Chapter 10 — Programming Languages</a></li>
      <li><a href="chapter_11.html">Chapter 11 — Software Engineering</a></li>
      <li><a href="chapter_12.html">Chapter 12 — Data Structure</a></li>
      <li><a href="chapter_13.html">Chapter 13 — Abstract Data Types</a></li>
      <li><a href="chapter_14.html">Chapter 14 — File Structure</a></li>
      <li><a href="chapter_15.html">Chapter 15 — Databases</a></li>
      <li><a href="chapter_16.html">Chapter 16 — Data Compression</a></li>
      <li><a href="chapter_17.html">Chapter 17 — Security</a></li>
      <li><a href="chapter_18.html">Chapter 18 — Theory of Computation</a></li>
      <li><a href="chapter_19.html">Chapter 19 — Computer Graphics</a></li>
      <li><a href="chapter_20.html">Chapter 20 — Artificial Intelligence</a></li>
      <li><a href="chapter_21.html">Chapter 21 — Introduction to Social Media</a></li>
      <li><a href="chapter_22.html">Chapter 22 — Social and Ethical Issues</a></li>
      <li><a href="chapter_23.html">Appendix A — Unicode</a></li>
      <li><a href="chapter_24.html">Appendix B — Unified Modeling Language (UML)</a></li>
      <li><a href="chapter_25.html">Appendix C — Pseudocode</a></li>
      <li><a href="chapter_26.html">Appendix D — Structure Chart</a></li>
      <li><a href="chapter_27.html">Appendix E — Boolean Algebra and Logic Circuits</a></li>
      <li><a href="chapter_28.html">Appendix F — Examples of Programs</a></li>
      <li><a href="chapter_29.html">Appendix G — Mathematical Review</a></li>
      <li><a href="chapter_30.html">Appendix H — Error Detection and Correction</a></li>
      <li><a href="chapter_31.html">Appendix I — Addition/Subtraction (Sign-and-Magnitude)</a></li>
      <li><a href="chapter_32.html">Appendix J — Addition/Subtraction (Reals)</a></li>
    </ul>
    </div>
  </details>
</nav>

  <main>
    <h1>Chapter 6 — Computer Networks</h1>
    <div class="navigation-top" style="display:flex; justify-content:space-between; margin-bottom:20px;">
      <a href="chapter_5.html" class="btn">← Chapter 5</a>
      <a href="chapter_7.html" class="btn">Chapter 7 →</a>
    </div>

    <div class="content-sections">
      <h2 id="Overview">Network Overview</h2>
      <div class="concept-card">
        <p>A <strong>computer network</strong> connects devices so they can exchange data and share resources. Networks differ in scale:</p>
        <ul>
          <li><strong>PAN</strong> (Personal): Bluetooth, short range.</li>
          <li><strong>LAN</strong> (Local): office/classroom.</li>
          <li><strong>MAN</strong> (Metro): city-wide.</li>
          <li><strong>WAN</strong> (Wide): global internet.</li>
        </ul>
      </div>

      <h2 id="Layers">Layers & Protocols</h2>
      <div class="concept-card">
        <p>The TCP/IP model has 4 layers: <strong>Link</strong>, <strong>Internet</strong>, <strong>Transport</strong>, <strong>Application</strong>.</p>
        <table>
          <tr><th>Layer</th><th>Key Protocols</th><th>Purpose</th></tr>
          <tr><td>Application</td><td>HTTP, DNS, SMTP</td><td>User-facing services</td></tr>
          <tr><td>Transport</td><td>TCP, UDP</td><td>End-to-end delivery</td></tr>
          <tr><td>Internet</td><td>IP, ICMP</td><td>Routing across networks</td></tr>
          <tr><td>Link</td><td>Ethernet, Wi‑Fi</td><td>Local delivery</td></tr>
        </table>
      </div>

      <h2 id="Addressing">IP Addressing & Subnets</h2>
      <div class="concept-card">
        <p><strong>IPv4</strong> uses 32 bits. <strong>CIDR</strong> notation (e.g., /24) indicates how many bits are the network prefix.</p>
        <p>Hosts per subnet = <code>2^(32−prefix) − 2</code> (network + broadcast reserved).</p>
      </div>
      <div class="interactive-box">
        <h3>Interactive: Subnet Host Calculator</h3>
        <div class="calc-row">
          <label>Prefix</label>
          <input id="cidr" type="number" value="24" min="1" max="30" />
          <button class="btn" onclick="calcHosts()">Compute</button>
        </div>
        <div id="hostResult" class="result-box">Hosts: 254</div>
      </div>

      <h2 id="Performance">Bandwidth & Latency</h2>
      <div class="concept-card">
        <p><strong>Bandwidth</strong> is the maximum data rate. <strong>Latency</strong> is the delay before data arrives. Throughput depends on both.</p>
      </div>
      <div class="interactive-box">
        <h3>Interactive: File Transfer Time</h3>
        <div class="calc-row">
          <label>File Size (MB)</label><input id="fileMB" type="number" value="200" />
          <label>Bandwidth (Mbps)</label><input id="bw" type="number" value="50" />
          <label>RTT (ms)</label><input id="rtt" type="number" value="20" />
          <label>Overhead (%)</label><input id="overhead" type="number" value="5" />
          <button class="btn" onclick="calcTransfer()">Compute</button>
        </div>
        <div id="transferResult" class="result-box">Estimated Time: 34.2 s</div>
      </div>

      <h2 id="Routing">Routing Basics</h2>
      <div class="concept-card">
        <p>Routers forward packets based on destination IP. Common routing ideas: shortest path, hop count, and policy-based routing.</p>
        <p>Common tools: <code>ping</code> (latency), <code>traceroute</code> (path).</p>
      </div>

      <h2 id="EndChapter">End-Chapter Materials</h2>
      <ul>
        <li>Explain why TCP is reliable but UDP is not.</li>
        <li>What does a /24 subnet mean in CIDR?</li>
        <li>Why can high bandwidth still feel slow?</li>
      </ul>

      <h2 id="PracticeSet">Practice Set</h2>
      <ol>
        <li>How many usable hosts are in a /26 subnet?</li>
        <li>What layer does DNS belong to?</li>
        <li>Estimate the transfer time for a 1 GB file at 100 Mbps (ignore overhead).</li>
      </ol>
    </div>
  </main>

  <script>
    function calcHosts(){
      const p = Math.max(1, Math.min(30, parseInt(cidr.value||'24',10)));
      const hosts = Math.pow(2, 32 - p) - 2;
      hostResult.innerText = `Hosts: ${hosts}`;
    }

    function calcTransfer(){
      const sizeMB = parseFloat(fileMB.value||'0');
      const bwMbps = parseFloat(bw.value||'1');
      const rttMs = parseFloat(rtt.value||'0');
      const oh = parseFloat(overhead.value||'0') / 100;
      const bits = sizeMB * 1024 * 1024 * 8;
      const effective = bwMbps * 1e6 * (1 - oh);
      const sec = bits / effective + (rttMs/1000);
      transferResult.innerText = `Estimated Time: ${sec.toFixed(1)} s`;
    }

    calcHosts(); calcTransfer();
  </script>
</body>
</html>
