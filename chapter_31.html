<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Appendix I — Addition/Subtraction (Sign-and-Magnitude)</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .concept-card { background: white; padding: 20px; border-left: 4px solid #7c3aed; margin: 20px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
    .interactive-box { background: #f5f3ff; border: 2px dashed #7c3aed; padding: 20px; border-radius: 8px; margin: 20px 0; }
    .calc-row { display:flex; gap:10px; align-items:center; flex-wrap: wrap; }
    .calc-row input { padding:6px 8px; border:1px solid #ccc; border-radius:4px; }
    .result-box { margin-top:10px; padding:10px; background:#fff; border:1px solid #e3e6e8; border-radius:6px; font-family: monospace; white-space: pre; }
  </style>
</head>
<body>
  <nav class="toc">
  <details class="toc-details">
    <summary class="toc-toggle">☰ 章節目錄 / Chapters</summary>
    <div class="toc-content">
<h2>CS Textbook</h2>
    <ul>
      <li><a href="index.html">Table of Contents</a></li>
      <li><a href="chapter_0.html">Preface</a></li>
      <li><a href="chapter_1.html">Chapter 1 — Introduction</a></li>
      <li><a href="chapter_2.html">Chapter 2 — Number Systems</a></li>
      <li><a href="chapter_3.html">Chapter 3 — Data Storage</a></li>
      <li><a href="chapter_4.html">Chapter 4 — Operations on Data</a></li>
      <li><a href="chapter_5.html">Chapter 5 — Computer Organization</a></li>
      <li><a href="chapter_6.html">Chapter 6 — Computer Networks</a></li>
      <li><a href="chapter_7.html">Chapter 7 — Operating Systems</a></li>
      <li><a href="chapter_8.html">Chapter 8 — Algorithms</a></li>
      <li><a href="chapter_9.html">Chapter 9 — Efficiency of Algorithms</a></li>
      <li><a href="chapter_10.html">Chapter 10 — Programming Languages</a></li>
      <li><a href="chapter_11.html">Chapter 11 — Software Engineering</a></li>
      <li><a href="chapter_12.html">Chapter 12 — Data Structure</a></li>
      <li><a href="chapter_13.html">Chapter 13 — Abstract Data Types</a></li>
      <li><a href="chapter_14.html">Chapter 14 — File Structure</a></li>
      <li><a href="chapter_15.html">Chapter 15 — Databases</a></li>
      <li><a href="chapter_16.html">Chapter 16 — Data Compression</a></li>
      <li><a href="chapter_17.html">Chapter 17 — Security</a></li>
      <li><a href="chapter_18.html">Chapter 18 — Theory of Computation</a></li>
      <li><a href="chapter_19.html">Chapter 19 — Computer Graphics</a></li>
      <li><a href="chapter_20.html">Chapter 20 — Artificial Intelligence</a></li>
      <li><a href="chapter_21.html">Chapter 21 — Introduction to Social Media</a></li>
      <li><a href="chapter_22.html">Chapter 22 — Social and Ethical Issues</a></li>
      <li><a href="chapter_23.html">Appendix A — Unicode</a></li>
      <li><a href="chapter_24.html">Appendix B — Unified Modeling Language (UML)</a></li>
      <li><a href="chapter_25.html">Appendix C — Pseudocode</a></li>
      <li><a href="chapter_26.html">Appendix D — Structure Chart</a></li>
      <li><a href="chapter_27.html">Appendix E — Boolean Algebra and Logic Circuits</a></li>
      <li><a href="chapter_28.html">Appendix F — Examples of Programs</a></li>
      <li><a href="chapter_29.html">Appendix G — Mathematical Review</a></li>
      <li><a href="chapter_30.html">Appendix H — Error Detection and Correction</a></li>
      <li><a href="chapter_31.html" class="active">Appendix I — Addition/Subtraction (Sign-and-Magnitude)</a></li>
      <li><a href="chapter_32.html">Appendix J — Addition/Subtraction (Reals)</a></li>
    </ul>
    </div>
  </details>
</nav>

  <main>
    <h1>Appendix I — Addition/Subtraction (Sign‑and‑Magnitude)</h1>
    <div class="navigation-top" style="display:flex; justify-content:space-between; margin-bottom:20px;">
      <a href="chapter_30.html" class="btn">← Appendix H</a>
      <a href="chapter_32.html" class="btn">Appendix J →</a>
    </div>

    <div class="content-sections">
      <div class="reading-guide">
        <h2>English Reading Guide (中文導讀)</h2>
        <p>這個附錄重點是「符號位 + 大小」。看到 <em>sign bit</em> 就先判斷正負，再做加減。</p>
        <ul>
          <li><em>Magnitude</em> 就是絕對值部分。</li>
          <li>同號相加、異號相減。</li>
          <li>注意 0 有 +0 與 −0 的表示問題。</li>
        </ul>
      </div>

      <div class="objectives">
        <h2>Learning Objectives</h2>
        <ul>
          <li>Represent integers in sign‑and‑magnitude.</li>
          <li>Perform addition/subtraction with sign handling.</li>
          <li>Recognize overflow and signed zero issues.</li>
        </ul>
      </div>

      <div class="key-terms">
        <h2>Key Terms</h2>
        <p><span class="key-term">sign bit</span>, <span class="key-term">magnitude</span>, <span class="key-term">overflow</span>, <span class="key-term">signed zero</span></p>
      </div>

      <div class="worked-example">
        <h3>Worked Example: −13 (8‑bit)</h3>
        <p>Magnitude 13 = <code>00001101</code>. Sign‑and‑magnitude → <code>1 0001101</code>.</p>
      </div>

      <h2 id="Representation">Sign‑and‑Magnitude</h2>
      <div class="concept-card">
        <p>First bit is the sign (0=positive, 1=negative). Remaining bits represent magnitude.</p>
        <p>Example (4‑bit): <code>0101 = +5</code>, <code>1101 = −5</code>.</p>
      </div>

      <h2 id="Addition">Addition Rules</h2>
      <div class="concept-card">
        <p>Compare signs:</p>
        <ul>
          <li>Same sign → add magnitudes, keep sign.</li>
          <li>Different sign → subtract smaller from larger, use sign of larger.</li>
        </ul>
      </div>

      <h2 id="Interactive">Interactive: Sign‑Mag Add</h2>
      <div class="interactive-box">
        <div class="calc-row">
          <label>A (4‑bit)</label><input id="bitA" value="0101" />
          <label>B (4‑bit)</label><input id="bitB" value="1011" />
          <button class="btn" onclick="calcSignMag()">Compute</button>
        </div>
        <div id="signMagResult" class="result-box">A=+5, B=−3 → +5+(−3)=+2 (0010)</div>
      </div>

      <h2 id="PracticeSet">Practice Set</h2>
      <ol>
        <li>Add 0110 and 1010 (4‑bit sign‑mag).</li>
        <li>Subtract 0100 from 1111.</li>
        <li>Why is two's complement preferred over sign‑magnitude?</li>
      </ol>
    </div>
  </main>

  <script>
    function calcSignMag(){
      const a = (bitA.value || '0000').replace(/[^01]/g,'').padStart(4,'0').slice(-4);
      const b = (bitB.value || '0000').replace(/[^01]/g,'').padStart(4,'0').slice(-4);
      const signA = a[0] === '1' ? -1 : 1;
      const signB = b[0] === '1' ? -1 : 1;
      const magA = parseInt(a.slice(1), 2);
      const magB = parseInt(b.slice(1), 2);
      const valA = signA * magA;
      const valB = signB * magB;
      const sum = valA + valB;
      const sign = sum < 0 ? '1' : '0';
      const mag = Math.abs(sum).toString(2).padStart(3,'0').slice(-3);
      const result = sign + mag;
      signMagResult.innerText = `A=${signA>0?'+':'−'}${magA}, B=${signB>0?'+':'−'}${magB} → ${signA>0?'+':'−'}${magA}${signB>0?'+':'−'}${magB}=${sum>0?'+':'−'}${Math.abs(sum)} (${result})`;
    }
    calcSignMag();
  </script>
</body>
</html>
